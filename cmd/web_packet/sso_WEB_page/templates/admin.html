<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vaultaire - Administration</title>
  <link rel="stylesheet" href="/static/login_custom.css" />
  <link rel="stylesheet" href="/static/admin_custom.css" />
    <style>
        .container { max-width: 1000px; margin: 40px auto; }
        textarea { width: 100%; min-height: 120px; font-family: monospace; }
        pre.output { background:#f7f7f7; padding:12px; border:1px solid #ddd; white-space:pre-wrap; }
        header { display:flex; justify-content:space-between; align-items:center; }
        .small { font-size:0.9em; color:#666 }
    </style>
</head>
<body>
  <header class="admin-header">
    <div class="brand"><img src="/static/image/vaultaire_logo.svg" alt="logo"> <span>Vaultaire Admin</span></div>
    <nav class="admin-nav">
      <a href="/admin/users">Utilisateurs</a>
      <a href="/admin/groups">Groupes</a>
      <a href="/admin/clients">Clients</a>
      <a href="/admin/permissions">Permissions</a>
      <a href="/profil">Profil</a>
    </nav>
  </header>
  <div class="admin-container">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <h1 style="margin:0">Interface d'administration</h1>
      <div class="small">Connecté en tant que : {{ .Username }} &nbsp; | &nbsp; <a href="/profil">Profil</a></div>
    </div>

    <section>
      <h2>Exécuter une commande</h2>
      <p>Vous pouvez exécuter ici les commandes disponibles (même logique que le CLI). Les permissions sont contrôlées côté serveur.</p>
      <form method="post" action="/admin">
        <label for="command">Commande :</label>
        <textarea id="command" name="command" placeholder="Ex: get -u username --details"></textarea>
        <div style="margin-top:10px;"><button type="submit">Exécuter</button></div>
      </form>
    </section>

    <section style="margin-top:24px;">
      <h2>Résultat</h2>
      {{ if .Output }}
        <pre class="output">{{ .Output }}</pre>
      {{ else }}
        <p class="small">Aucun résultat. Exécutez une commande pour voir la sortie.</p>
      {{ end }}
    </section>
  </div>
</body>
</html>
